# West Workspace Setup Guide

## Problem

If you encounter the error:

```
west: unknown command "build"; do you need to run this inside a workspace?
```

## Solution

The west workspace needs to be initialized. Run these commands once:

```bash
# Navigate to workspace root
cd /workspaces/zmk

# Initialize west workspace (pointing to app/ as manifest repo)
west init -l app/

# Download all dependencies
west update
```

## Verification

Test that west is working:

```bash
west build --help
```

You should see the build command help without errors.

## What These Commands Do

1. **west init -l app/** - Initializes the workspace with app/ as the manifest repository

   - Creates a `.west` directory with workspace configuration
   - Sets up the workspace topology based on `app/west.yml`

2. **west update** - Downloads all project dependencies
   - Fetches Zephyr RTOS
   - Fetches all HAL modules, libraries, and tools
   - Takes several minutes on first run

## Build Scripts

After initialization, you can use the build scripts in `scripts/bash/`:

- See `scripts/README.md` for detailed documentation
- Main build script: `scripts/bash/00.build_crkbd_fw.sh`

## Notes

- This setup only needs to be done once per workspace
- The `.west` directory stores workspace state - don't delete it
- If you clone this repository fresh, you'll need to run these commands again
